<div class="form-container">
  <h2>{{ isEditMode() ? 'Редактирование пользователя' : 'Создание пользователя' }}</h2>

  @if (!loading()) {
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <nz-form-item>
        <nz-form-label nzRequired>Имя</nz-form-label>
        <nz-form-control
          nzErrorTip="Имя должно содержать от 2 до 100 символов и состоять из букв, пробелов или дефисов"
        >
          <input nz-input formControlName="name" placeholder="Имя" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Логин</nz-form-label>
        <nz-form-control nzErrorTip="Логин должен содержать от 3 до 30 символов (буквы, цифры, _ . -)">
          <input nz-input formControlName="username" placeholder="Логин" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Email</nz-form-label>
        <nz-form-control nzErrorTip="Введите корректный email">
          <input nz-input formControlName="email" placeholder="Email" type="email" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Телефон</nz-form-label>
        <nz-form-control nzErrorTip="Введите корректный номер телефона">
          <input nz-input formControlName="phone" placeholder="Телефон" />
        </nz-form-control>
      </nz-form-item>

      <div class="form-actions">
        <button nz-button nzType="default" type="button" (click)="cancelEdit()">Отмена</button>
        <button nz-button nzType="primary" type="submit" [nzLoading]="submitting()">
          {{ isEditMode() ? 'Сохранить' : 'Создать' }}
        </button>
      </div>
    </form>
  }
</div>
